<fieldset>
  <legend>Active Reefer Settings</legend>
  <div class="row">
    <label>Active Reefer Settings: </label>
    <p-inputSwitch [ngModel]="hasReefer"
                   [ngModelOptions]="{standalone: true}"
                   (onChange)="onHasReeferSlideToggleChange()">
    </p-inputSwitch>
  </div>
  <ng-container *ngIf="activeReeferSettings as activeReeferSettings">
    <fieldset>
      <legend>Required reefer settings</legend>
      <div class="row">
        <label>Is Generator Set Required?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isGeneratorSetRequired"
                       name="isGeneratorSetRequired">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Is Pre-Cooling Required?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isPreCoolingRequired"
                       name="isPreCoolingRequired">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Is Cold Treatment Required?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isColdTreatmentRequired"
                       name="isColdTreatmentRequired">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Is Ventilation Open?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isVentilationOpen"
                       name="isVentilationOpen">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Is Drainholes Open?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isDrainholesOpen"
                       name="isDrainholesOpen">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Is Bulb Mode?</label>
        <p-inputSwitch [(ngModel)]="activeReeferSettings.isBulbMode"
                       name="isBulbMode">
        </p-inputSwitch>
      </div>

      <div class="row">
        <label>Temperature Setpoint: </label>
        <input [(ngModel)]="activeReeferSettings.temperatureSetpoint"
               name="temperatureSetpoint"
               class="p-inputtext p-element"
               [required]="true"
               type="number">
        <p-dropdown [required]="true"
                    [(ngModel)]="activeReeferSettings.temperatureUnit"
                    name="temperatureUnit"
                    [values$]="temperatureUnits$"
                    appEnumDropDown>
        </p-dropdown>
      </div>

    </fieldset>
    <fieldset>
      <legend>Optional reefer settings</legend>
      <div class="row">
        <label>O<sub>2</sub> Setpoint (%): </label>
        <input [(ngModel)]="activeReeferSettings.o2Setpoint"
               name="o2Setpoint"
               class="p-inputtext p-element"
               [min]="0"
               [max]="100"
               type="number">
        <ng-container *ngIf="this.totalAtmosphere > 100">
          <p-tag
            styleClass="mr-2"
            icon="pi pi-exclamation-triangle"
            severity="warning"
            value="Warning">
          </p-tag>
          <div class="warnings">
            The atmosphere cannot exceed 100% volume. But the O<sub>2</sub> and CO<sub>2</sub> Setpoints
            combine to {{this.totalAtmosphere}}%
          </div>
        </ng-container>
      </div>
      <div class="row">
        <label>CO<sub>2</sub> Setpoint (%): </label>
        <input [(ngModel)]="activeReeferSettings.co2Setpoint"
               name="co2Setpoint"
               class="p-inputtext p-element"
               [min]="0"
               [max]="100"
               type="number">
        <ng-container *ngIf="this.totalAtmosphere > 100">
          <p-tag
            styleClass="mr-2"
            icon="pi pi-exclamation-triangle"
            severity="warning"
            value="Warning">
          </p-tag>
          <div class="warnings" >
            The atmosphere cannot exceed 100% volume. But the O<sub>2</sub> and CO<sub>2</sub> Setpoints
            combine to {{this.totalAtmosphere}}%
          </div>
        </ng-container>
      </div>

      <div class="row">
        <label>Humidity Setpoint (%): </label>
        <input [(ngModel)]="activeReeferSettings.humiditySetpoint"
               name="humiditySetpoint"
               class="p-inputtext p-element"
               [min]="0"
               [max]="100"
               type="number">
      </div>
    </fieldset>
  </ng-container>
</fieldset>
