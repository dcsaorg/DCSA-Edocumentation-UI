<div class="row">
  <label>How is the party defined? </label>
  <p-dropdown [(ngModel)]="partyType"
              [required]="required"
              [showClear]="allowUndefined || !required"
              [options]="['existing-party', 'new-party']"
              name="_partyDefined"
              placeholder="Choose a definition type (leave blank for undefined)"
              (ngModelChange)="newPartyType($event)">
  </p-dropdown>
  <app-constraint-visualization-note></app-constraint-visualization-note>
</div>
<ng-container *ngIf="_party as party">
  <ng-container *ngIf="isDocumentPartyReference(party)">
    <div class="row">
      <label>Carrier's party reference: </label>
      <input name="carrierPartyReference"
             nullValue
             pInputText
             [(ngModel)]="party.carrierPartyReference"
             [required]="true"
             placeholder="Carrier's reference for this party"
             type="text"
             pattern="^\S+$"
             maxlength="100">
    </div>
  </ng-container>
  <ng-container *ngIf="!isDocumentPartyReference(party)">
    <div class="row">
      <label>Legal Name: </label>
      <input name="legalName"
             nullValue
             pInputText
             [(ngModel)]="party.legalName"
             [required]="true"
             placeholder="Legal name for this party"
             type="text"
             pattern="^\S+(\s+\S+)*$"
             maxlength="100">
    </div>
    <app-edit-address [(address)]="party.address"
                      [forceAddress]="true"
                      [requiredFields]="{name: true, country: true}"
                      [required]="true">
    </app-edit-address>
    <div *ngIf="displayedAddress" class="row">
      <label><em>Displayed Address: </em></label>
      <p-tag styleClass="mr-2"
             icon="pi pi-info-circle"
             severity="info"
             pTooltip='There should have been an input here, which has been omitted for the sake of keeping the example simpler or smaller.'
             value="Omitted for brevity">
      </p-tag>
    </div>
  </ng-container>
</ng-container>
